function setup(){createCanvas(600,500),frameRate(10)}function initGame(){background(50,50,100);var e="Press enter or space to start";textSize(32),fill(255),nameWidht=textWidth("Snake Game"),spaceWidht=textWidth(e),text("Snake Game",(width-nameWidht)/2,height/2-40),text(e,(width-spaceWidht)/2,height/2),noLoop()}function startGame(){removeElements(),gameState="play",snake=new Snake,setJelloShots(5),loop()}function runGame(){background(50,50,100),textSize(12),fill(255),text("score: "+snake.tail.length,1,10),text("highscore: "+highscore,1,24),devop&&(fill(255,0,0),text("x: "+snake.pos.x+", y: "+snake.pos.y,1,38)),snake.update(),snake.show(),snake.checkDeath(),fill(0,255,0,100);for(var e=0;e<shots.length;e++)rect(shots[e].x,shots[e].y,pixel_size,pixel_size),snake.eat(shots[e])&&(snake.tail.push(createVector(snake.x,snake.y)),shots.splice(e,1),setJelloShots(1),snake.tail.length>highscore&&(highscore=snake.tail.length))}function endGame(){background(50,50,100),textSize(32);var e="Your Score is "+snake.tail.length,t="Press enter or space to restart";msgWidht=textWidth("Game Over"),scoreWidht=textWidth(e),spaceWidht=textWidth(t),fill(255,0,0),text("Game Over",(width-msgWidht)/2,height/2-40),fill(255),text(e,(width-scoreWidht)/2,height/2),text(t,(width-spaceWidht)/2,height/2+80),noLoop()}function draw(){"init"==gameState?initGame():"play"==gameState?runGame():"end"==gameState&&endGame()}function setJelloShots(e){for(var t=floor(width/pixel_size),a=floor(height/pixel_size),s=0;s<e;s++){for(var o=createVector(floor(random(t)),floor(random(a))).mult(pixel_size);snake_intersect(o);)o=createVector(floor(random(t)),floor(random(a))).mult(pixel_size);shots.push(o)}}function findSnake(){}function snake_intersect(e){var t=!1;if(e.x==snake.pos.x&&e.y==snake.pos.y)t=!0;else{for(a=0;a<snake.tail.length;a++)if(e.x==snake.tail[a].x&&e.y==snake.tail[a].y){t=!0;break}for(var a=0;a<shots.length;a++)if(e.x==shots[a].x&&e.y==shots[a].y){t=!0;break}}return t}function keyPressed(){keyCode===DOWN_ARROW?movement.push([0,1]):keyCode===UP_ARROW?movement.push([0,-1]):keyCode===LEFT_ARROW?movement.push([-1,0]):keyCode===RIGHT_ARROW&&movement.push([1,0]),keyCode!=ENTER&&32!=keyCode||startGame()}var snake,rat,pixel_size=20,shots=[],movement=[],highscore=0,gameState="init",devop=!1;
